---
title: 2. æ•°ç»„å¯¹è±¡ï¼ˆArrayï¼‰
meta: 
  - bgImage: http://pic.closeeyes.cn/1.jpg
---
## ä»€ä¹ˆæ˜¯æ•°ç»„ï¼Ÿ
- é¦–å…ˆæ•°ç»„æ˜¯ä¸€ä¸ªæœ‰åºé›†åˆï¼Œç”¨äºå•ä¸ªå˜é‡å‚¨å­˜å¤šä¸ªå€¼ã€‚

[è¯¦æƒ…å‚è€ƒMDN](https://developer.mozilla.org/en-US/docs/Glossary/array)

### åˆ›å»ºæ•°ç»„
- å­—é¢é‡åˆ›å»ºï¼š `let arr = [0, 1, 2]`
- Array æ„é€ å‡½æ•° `let arr = new Array()`
- `Array.from()`åŒæ ·å¯ä»¥åˆ›å»ºä¸€ä¸ªæ•°ç»„ã€‚[MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/from)ä»ä¸€ä¸ªç±»ä¼¼æ•°ç»„æˆ–å¯è¿­ä»£å¯¹è±¡ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„å®ä¾‹

### 1. æ•°ç»„ä¸­å¸¸ç”¨çš„ä¿®æ”¹å™¨çš„æ–¹æ³•ï¼ˆä¿®æ”¹åŸæ•°ç»„)
  ---
  > æ•°ç»„å¯ä»¥å½“æˆä¸€ä¸ªæ ˆæ¥ä½¿ç”¨ï¼Œæˆ‘ä»¬çŸ¥é“æ ˆçš„ç‰¹ç‚¹æ˜¯å…ˆè¿›åå‡ºï¼Œæ ˆçš„åŸºæœ¬æ“ä½œæ˜¯å‡ºæ ˆå’Œå…¥æ ˆ
  - `pop()`: åˆ é™¤æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›åˆ é™¤åçš„è¿™ä¸ªå…ƒç´  ï¼ˆå‡ºæ ˆï¼‰
  - `push()`: åœ¨æ•°ç»„çš„æœ«å°¾å¢åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›æ•°ç»„çš„æ–°é•¿åº¦ (å…¥æ ˆ)
  ```js
  [0, 1, 2, 3].pop()  // => 3 åŸæ•°ç»„: [0, 1, 2]

  let arr = [0, 1, 2, 3]
  arr.push(4) //  => 5 è¿”å›æ•°ç»„çš„é•¿åº¦
  // pushæ–¹æ³•è¿˜å¯ä»¥ç»“åˆES6çš„æ‰©å±•è¿ç®—ç¬¦ä½¿ç”¨
  arr.push(...[4, 5]) // => 7, åŸæ•°ç»„: [0, 1, 2, 3, 4, 4, 5]
  ```
  > å¯ä»¥å½“ä½œä¸€ä¸ªé˜Ÿåˆ—ï¼Œé˜Ÿåˆ—çš„ç‰¹ç‚¹æ˜¯å…ˆè¿›å…ˆå‡ºï¼ŒåŸºæœ¬æ“ä½œæ˜¯å‡ºé˜Ÿå’Œå…¥é˜Ÿï¼š
  - `shift()`: ä»å¼€å§‹åˆ é™¤æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›è¿™ä¸ªå…ƒç´ 
  ```js
  let arr = [1, 2, 3];
  arr.push(4);             //å…¥é˜Ÿ
  let head = arr.shift();  //å‡ºé˜Ÿ   => 1,  head: [2, 3]
  ```
  - `unshift()`: ä¸›æ•°ç»„çš„å‰é¢æ·»åŠ å…ƒç´ ï¼Œå¹¶è¿”å›æ•°ç»„çš„é•¿åº¦
  ```js
  let arr = [1, 2, 3]
  arr.unshift(4)  // => 4

  // arr => [4, 1, 2, 3]
  ```
  - `reverse()`: é¢ å€’æ•°ç»„çš„æ’åˆ—é¡ºåº, å¹¶éæ˜¯å€’åºæ’åˆ—
  ```js
  [1, 3, 2, 4].reverse()  // => [4, 2, 3, 1]
  ```
  - `splice()`: é€šè¿‡åˆ é™¤æˆ–æ›¿æ¢ç°æœ‰å…ƒç´ æˆ–åœ¨é€‚å½“ä½ç½®æ·»åŠ æ–°å…ƒç´ æ¥æ›´æ”¹æ•°ç»„çš„å†…å®¹
  ```js
  /*
   * ä¸‰ä¸ªå‚æ•°
   * @param index å¿…é€‰ã€‚è§„å®šä»ä½•å¤„æ·»åŠ  ç´¢å¼•å€¼
   * @param length å¿…é€‰ã€‚è§„å®šè¦åˆ é™¤çš„é•¿åº¦
   *
   * @param item1ï¼Œ...,itemX å¯é€‰ å‘æ•°ç»„ä¸­æ·»åŠ çš„æ–°å…ƒç´ 
   */

  let arr = [1, 2, 3, 4, 5]
  let arr1 = arr.splice(2, 2) // åˆ é™¤æ•°ç»„ä¸­ç´¢å¼•ä¸º2åŒ…å«ä»–è‡ªå·±çš„ä¸¤ä½å…ƒç´ 
  let arr2 = arr.splice(2, 0) // è¿”å›ç©ºæ•°ç»„[]ï¼ŒåŸæ•°ç»„ä¸å˜
  console.log(arr) // [1, 2, 5]
  console.log(arr1) // [3, 4]

  // -----------------------------------------------------
  let arr3 = [1, 2, 3, 4, 5]
  let arr4 = arr3.splice(2, 0, '55')  // æƒ³æ•°ç»„ä¸­ä»»æ„ä½ç½®æ·»åŠ å…ƒç´ ï¼Œæ–°å¢åŠ çš„å…ƒç´ ï¼Œä»£æ›¿ä¹‹å‰é€‰ä¸­çš„ç´¢å¼•çš„å…ƒç´ ä½ç½®ï¼Œå…¶ä»–å…ƒç´ ç´¢å¼•å‘åç§»
  let arr5 = arr3.splice(2, 0, '55', '66')
  console.log(arr4) // [1, 2, '55', 3, 4, 5]
  console.log(arr5)  // [1, 2, "55", "66", "55", 3, 4, 5]  // "55", "66" æ–°å¢åŠ çš„è¿™ä¸¤ä¸ªå…ƒç´ ä»£æ›¿ä¹‹å‰çš„ '55'çš„ä½ç½®, '55'ä¹‹åå…ƒç´ å‘åç§»åŠ¨ã€‚
  // -----------------------------------------------------
  // æ›¿æ¢ å°±æ˜¯åˆ é™¤å…ƒç´ ä¹‹åï¼Œåœ¨åŸæ¥çš„ä½ç½®æ·»åŠ 
  let arr6 = [1, 2, 3, 4, 5]
  let arr7 = arr6.splice(2, 1, '55')
  console.log(arr6) // [1, 2, "55", 4, 5]
  ```
  - `sort()`: è¿›è¡Œæ•°ç»„çš„æ’åºï¼Œæ’åºæ˜¯æŒ‰ç…§æ•°å­—æˆ–è€…å­—æ¯çš„é¡ºåºæ’åˆ—ï¼Œ é»˜è®¤æ˜¯ä»¥å­—æ¯é¡ºåºæ’åˆ—ã€‚
  ```js
  /*
   * sortÂ å¯é€‰å‚æ•°å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°
   *
   */
  let arr = [1, 5, 3, 4, 2]
  arr.sort() // [1, 2, 3, 4, 5]

  // å¦‚æœæƒ³è®©arr å€’åºæ’åˆ—æœ‰ä»¥ä¸‹æ–¹å¼å®ç°

  // 1. å…ˆæ­£åºç„¶åé¢ å€’æ’åº
  arr.sort().reverse()
  // 2. ä½¿ç”¨sortå¯é€‰å‚æ•° function å®ç°
  arr.sort((a, b) => b - a)
  ```
  - `copyWithin()`: `MDNæ¦‚å¿µ`æµ…å¤åˆ¶æ•°ç»„çš„ä¸€éƒ¨åˆ†åˆ°åŒä¸€æ•°ç»„ä¸­çš„å¦ä¸€ä¸ªä½ç½®ï¼Œå¹¶è¿”å›å®ƒï¼Œä¸ä¼šæ”¹å˜åŸæ•°ç»„çš„é•¿åº¦ã€‚
  ```js
  // é€šè¿‡ä¸‹é¢çš„è¿™ä¸ªæ —å­ æˆ‘ä»¬çœ‹åˆ°ï¼ŒcopyWithinæ–¹æ³•ä¸æ”¹å˜åŸæ•°ç»„çš„é•¿åº¦ï¼Œä½†æ˜¯é‡Œé¢çš„å€¼æ˜¯å˜åŒ–çš„ã€‚
  // ç°åœ¨ copyWithin é‡Œé¢æœ‰ä¸‰ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯ å¤åˆ¶åˆ°æŒ‡å®šç›®æ ‡ç´¢å¼•ä½ç½®, ç¬¬äºŒä¸ªå‚æ•°æ˜¯å…ƒç´ å¤åˆ¶çš„èµ·å§‹ä½ç½®ã€‚é»˜è®¤ä¸º0ï¼Œ ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯åœæ­¢å¤åˆ¶çš„ç´¢å¼•ä½ç½® (é»˜è®¤ä¸º array.length)ã€‚å¦‚æœä¸ºè´Ÿå€¼ï¼Œè¡¨ç¤ºå€’æ•°

  let arr = [1, 5, 3, 4, 2]
  arr.copyWithin(2, 0)
  console.log(arr) // [1, 5, 1, 5, 3]
  // ä¸Šé¢çš„æ —å­å…·ä½“å®ç°æ˜¯ ä»ç´¢å¼•ä¸º0å¤åˆ¶arrçš„æ•°æ®ï¼Œå¡«å……åˆ°ç´¢å¼•ä¸º2çš„ä½ç½®ï¼Œæˆ‘çš„ç†è§£æ˜¯è¦†ç›–æ‰ç´¢å¼•ä¸º2åé¢çš„å…ƒç´ 


  let arr1 = [1, 5, 3, 4, 2]
  arr1.copyWithin(2, 0, 2)
  console.log(arr1) // [1, 5, 1, 5, 2]
  // ç°åœ¨å­˜åœ¨å¤åˆ¶ç»“æŸçš„ç´¢å¼•ï¼Œå°±åªå¤åˆ¶äº†ç´¢å¼•ä¸º0å’Œ1çš„ä¸¤ä¸ªå…ƒç´ ï¼ˆ1ï¼Œ 5ï¼‰ï¼Œæ›¿æ¢ç´¢å¼•ä¸º2 ä¹‹åçš„è¿ä¸ªå…ƒç´ ï¼ˆ3ï¼Œ 4ï¼‰
  ```
  ---
### 2. æ•°ç»„ä¸­è®¿é—®ç±»å‹æ–¹æ³•
  - `concat()`: è¿æ¥ä¸¤ä¸ªæˆ–æ›´å¤šçš„æ•°ç»„ï¼Œå¹¶è¿”å›ç»“æœ, ES6çš„æ‰©å±•è¿ç®—ç¬¦`...`åŒæ ·å¯ä»¥å®ç°
  ```js
  let arr1 = [1, 2]
  let arr2 = [3, 4]
  let arr3 = [5, 6]
  let arr4 = arr1.concat(arr3, arr2) // [1, 2, 5, 6, 3, 4]
  let arr5 = [...arr1, ...arr2, ...arr3] // [1, 2, 3, 4, 5, 6]
  ```
  - `join()`: ä»¥æŸä¸€ä¸ªå­—ç¬¦(é»˜è®¤ä¸º`,`)è¿æ¥æ‰€æœ‰æ•°ç»„å…ƒç´ ç»„æˆä¸€ä¸ªå­—ç¬¦ä¸²ã€‚
  ```js
  let arr = [1, 5, 3, 4, 2]
  arr.join() // '1,5,3,4,2'
  arr.join('ğŸ˜„') // '1ğŸ˜„5ğŸ˜„3ğŸ˜„4ğŸ˜„2'
  ```
  - `slice()`: æˆªå–æ•°ç»„çš„ä¸€æ®µï¼Œè¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼Œå’Œ`String.prototype.slice`çš„æ„æ€å·®ä¸å¤š.
  ```js
  // èµ·å§‹ç´¢å¼•ï¼Œ ç»“æŸç´¢å¼•é»˜è®¤ä¸å†™ ä¸ºæ•°ç»„çš„é•¿åº¦ã€‚
  let arr = [1, 5, 3, 4, 2]
  arr.slice(1, 3)  // [5, 3) ä¸åŒ…å«ç»“æŸç´¢å¼•
  arr.slice(1) // [5, 3, 4, 2]
  ```
  - `indexOf()`: æœç´¢æ•°ç»„ä¸­çš„å…ƒç´ ï¼Œå¹¶è¿”å›å®ƒæ‰€åœ¨çš„ä½ç½®ã€‚
  - `lastIndexOf()`: ä»åå‘å‰æœç´¢æœç´¢æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå¯é€‰å…ƒç´ ï¼Œå¹¶è¿”å›å®ƒæ‰€åœ¨çš„ä½ç½®
  - `toString()`: æŠŠæ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›ç»“æœã€‚
  - `isArray()`: åˆ¤æ–­å¯¹è±¡æ˜¯å¦ä¸ºæ•°ç»„ã€‚
  - `includes()`: åˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨æŸä¸€å…ƒç´ ï¼ˆES2016ï¼‰ï¼Œç±»è¯•indexOf
  ```js
  let arr = [1, 5, 3, 4, 2]
  arr.includes(6) // false
  ```
### 3. æ•°ç»„ä¸­çš„è¿­ä»£æ–¹æ³•
  - `forEach()`: å¾ªç¯æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ æ‰§è¡Œä¸€æ¬¡å›è°ƒå‡½æ•°ï¼Œ `forEach(function(item, index, åŸæ•°ç»„)`
  - `every()`: æ£€æµ‹æ•°å€¼å…ƒç´ çš„æ¯ä¸ªå…ƒç´ æ˜¯å¦éƒ½ç¬¦åˆæ¡ä»¶, è¿”å›çš„boolean
  ```js
  let arr = [1, 3, 5, 6]
  arr.every((item) => item < 3) // false åªè¦æ•°ç»„ä¸­çš„å…¶ä¸­ä¸€é¡¹ä¸ç¬¦åˆå°±è¿”å›false
  arr.every((item) => item < 7) // true
  ```
  - `some()`: æ£€æµ‹æ•°ç»„ä¸­çš„å…ƒç´ æ˜¯å¦æ»¡è¶³æŒ‡å®šæ¡ä»¶ï¼Œåªè¦æœ‰ä¸€ä¸ªå…ƒç´ æ»¡è¶³å°±ä¼šè¿”å›trueï¼Œå…¶ä»–çš„å…ƒç´ ä¸æ£€ç´¢ã€‚
  ```js
  let arr = [1, 3, 5, 6]
  arr.some((item) => item < -1) // false
  arr.some((item) => item < 3) // true
  ```
  - `filter()`: æ£€æµ‹æ•°å€¼å…ƒç´ ï¼Œå¹¶è¿”å›æ¡ä»¶ä¸º`true`çš„å…ƒç´ ç»„æˆä¸€ä¸ªæ–°çš„æ•°ç»„
  ```js
  let arr = [1, 3, 5, 6]
  arr.filter((item) => item <= 5) // [1, 3, 5]
  ```
  - `map()`: æŒ‡å®šå‡½æ•°å¤„ç†æ•°ç»„çš„æ¯ä¸ªå…ƒç´ , å¹¶è¿”å›è¿™ä¸ªå¤„ç†åçš„å…ƒç´ ï¼Œæ‰€ç»„æˆä¸€ä¸ªæ–°çš„æ•°ç»„ã€‚ æ²¡æœ‰è¿”å›å€¼ä¸º `undefined`
  ```js
  let arr = [1, 3, 5, 6]
  arr.map((item) => item * 5) // [5, 15, 25, 30]
  ```
### 4. è¡¥å……æœ‰å…³æ•°ç»„çš„ä¸€äº›æ–¹æ³•
  - æ•°ç»„çš„å»é‡ï¼š
  ```js
  var arr = [1, 1, 3, 4, 4, 5, 6, 7]

  arr.filter((item, index, arr) => arr.indexOf(item) === index)  // [1, 3, 4, 5, 6, 7]

  new Set(arr) // Set(6)Â {1, 3, 4, 5, 6,Â 7}
  ```
  - æ•°ç»„çš„äºŒå‰æ ‘æ’åºè¯¦æƒ…è¯·è§ [ä¸ªäººç½‘ç«™](http://blog.closeeyes.cn/article/5ca1df50240dfd74be33498d)

  ```js

  // é¦–å…ˆåˆ›å»ºèŠ‚ç‚¹, æ¯ä¸€ä¸ªèŠ‚ç‚¹ å­˜åœ¨key,ä»¥åŠä¸¤ä¸ªå·¦å³å­©å­~~
  class Node {
    constructor (key) {
      this.key = key
      this.left = null
      this.right = null
    }
  }
  class Binary {
    constructor ( ) {
      // æ ¹èŠ‚ç‚¹
      this.root = null
    }
    // åˆ©ç”¨é€’å½’çš„æ–¹å¼æ’å…¥ç›¸åº”çš„èŠ‚ç‚¹ä½ç½®ï¼Œæ„å»ºä¸Šå›¾æ•°æ®ç»“æ„
    insertNode (node, newNode) {
      if (newNode.key < node.key) {
        if (node.left === null) {
          node.left = newNode
        } else {
          this.insertNode(node.left, newNode)
        }
      } else {
        if (node.right === null) {
          node.right = newNode
        } else {
          this.insertNode(node.right, newNode)
        }
      }
    }
    // æ’å…¥èŠ‚ç‚¹
    insert (key) {
      const newNode = new Node(key)
      if (!this.root) {
        this.root = newNode
      } else {
        this.insertNode(this.root, newNode)
      }
    }

    inOrderTraverseNode (node, callback) {
      if (!!node) {
        this.inOrderTraverseNode(node.left, callback)
        callback(node.key)
        this.inOrderTraverseNode(node.right, callback)
      }
    }
    // äºŒå‰æ ‘çš„ä¸­åºéå†
    inOrderTraverse (callback) {
      this.inOrderTraverseNode(this.root, callback)
    }
  }

  // eg:
  const nodes = [5, 3, 10, 4, 6, 9, 17, 20, 15, 19,16, 2, 1]
  let binaryTree = new Binary()
  // ä¸ºäºŒå‰æ ‘æ·»åŠ å…ƒç´ 
  nodes.forEach(item => {
    binaryTree.insert(item)
  })

  // è¿™ä¸ªå°±æ˜¯æ„å»ºçš„äºŒå‰æ ‘ç»“æ„
  console.log(binaryTree)

  const callback = (key) => {
    console.log(key)
  }
  // è·å–ä¸­åºéå†çš„callback,è¿™ä¸ªä¼šæŒ‰ç…§ä»å°åˆ°å¤§çš„é¡ºåºé€æ­¥è¾“å…¥1, 2, 3, 4, 5......
  binaryTree.inOrderTraverse(callback)
  ```
  - æ•°ç»„çš„å†’æ³¡æ’åºï¼šå†’æ³¡æ’åºæ˜¯æŒ‡ç”±ç¬¬ä¸€é¡¹æ•°ä¸ç¬¬äºŒé¡¹çš„æ•°ç›¸æ¯”è¾ƒï¼Œç¬¬ä¸€é¡¹å¤§çš„è¯ä¸¤è€…äº’æ¢ä½ç½®ï¼Œè‹¥ç¬¬äºŒé¡¹å¤§çš„è¯å°±ä½ç½®ä¸å˜ï¼Œ [åŸæ–‡è¯¦è§](http://www.cnblogs.com/suzhen-2012/p/6713638.html)
  ```js
  const arr = [1, 3, 4, 1, 20, 19, 23, 35, 40, 42];

    function arrSort (arr) {
      let length = arr.length
      for (let i = 0; i < length; i++) {
        for (let j = 0; j < length - 1 - i; j++) {
          if (arr[j] > arr[j + 1]) {
            let item = arr[j + 1] // å…ˆä¿ç•™ä¸¤è€…å°çš„æ•°å€¼
            arr[j + 1] = arr[j] // å¤§çš„æ•°å€¼ï¼Œèµ‹å€¼ç»™ç´¢å¼•å¤§çš„ä¸€æ–¹
            arr[j] = item // å°çš„æ•°å€¼ï¼Œèµ‹å€¼ç»™ç´¢å¼•å°çš„ä¸€æ–¹
          }
        }
      }

      return arr
    }

    console.log(arrSort(arr))
  ```
  ```js
    function arrSort2(arr) {
      var i = arr.length - 1
      while (i > 0) {
        var pos = 0 // æ¯æ¬¡å¾ªç¯å°†æ ‡è®°çš„ä½ç½®å®šä½0
        for (var j = 0; j < i; j++) {
          if (arr[j] > arr[j + 1]) {
            pos = j
            var item = arr[j + 1]
            arr[j + 1] = arr[j]
            arr[j] = item
          }
        }
        i = pos
      }
      return arr
    }
    arrSort2(arr)
  ```

  åœ¨é‡åˆ°æœ‰å…³æ•°ç»„çš„æ–¹æ³•å†è¡¥å……å§ğŸ˜„......